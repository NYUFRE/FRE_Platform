{% extends "base.html" %}

{% block title %}
Builder
{% endblock %}



{% block content %}
<nav class="col-sm-3 col-md-2 hidden-xs-down bg-faded sidebar">
    <ul class="nav nav-pills flex-column">
        <li class="nav-item">
            <a class="nav-link" href="/tsa_introduction" >Introduction</a>
        </li>
        <li class="nav-item">
            <a class="nav-link active" href="/tsa_builder" style="background-color:rgb(19, 128, 92);">Model Builder</a>
        </li>
        <li class="nav-item">
            <a class="nav-link" href="/tsa_viewer">Viewer</a>
        </li>
    </ul>
</nav>

<main class="col-sm-9 offset-sm-3 col-md-10 offset-md-2 pt-5">
    <h3><strong>Twitter Data Sentiment Analysis Project Introduction</strong></h3>
    <br>
    <div class="form-group">
        <tr style="font-variant:small-caps;font-style:normal;color:black;font-size:20px;">
            <tr>
                <td width="881" valign="top">
                    <p>
                        This is a placehoder fro introducing this module.
                    </p>
                </td>
            </tr>
        <form action="/tsa_builder" id="Builder" method="post">
            <p style = "width:500px;" align="right">
                <b>1. Default stock price: Latest stock price of APPLE</b>
            </p>
            <p style = "width:500px;"  align="right">Spot Price:
                <input id="spot" name="spot" placeholder="(int) spot price" value="1" type="text"/>
            </p>
            <p style = "width:500px;" align="right"  >Choose a Model: 
                <select name = "model" action = '/' style = "width:300px; background-color: rgb(201, 215, 223); color: rgb(0, 2, 4);">
                    {%for model in pulldownlist%}
                        <option value = {{model}} selected>{{model}}</option>>
                    {% endfor %}
                </select>
            </p>
            <p style = "width:600px;" align="right">
                Spot Price + 1 = {{spot}}
            </p>
            <input type="submit" value="Build the Model" style="width:200px; background-color: rgb(9, 140, 176); color: aliceblue; " />
        </form>
    </div>

    <h3>Result</h3>
    <div class="table-responsive">
        <table class="table table-striped">
            <thead>
                <tr>
                    <th style="text-align:center">Model</th>
                    <th style="text-align:center">Fbeta Score</th>
                    <th style="text-align:center">F1 Score</th>
                    <th style="text-align:center">Training Accuracy</th>
                    <th style="text-align:center">Cross Validation Accuracy</th>
                </tr>
            </thead>

            <tbody>
                <tr>
                    <td>{{mlres["model"]}}</td>
                    <td>{{mlres["fbeta"]}}</td>
                    <td>{{mlres["f1_score"]}}</td>
                    <td>{{mlres["accuracy_train"]}}</td>
                    <td>{{mlres["cross_val"]}}</td>
                </tr>
            </tbody>
        </table>
    </div>

    <h3>ROC curve</h3>
        <img src="/plot/tsa_plot_demo" alt="Image Placeholder" width="50%">
    <hr>
</main>
<br></br>
<br></br>

{% endblock %}
<br></br>
